<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #10b981;
            --dark: #1f2937;
            --light: #f3f4f6;
            --white: #ffffff;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--light); margin: 0; padding: 0; }
        
        /* Login */
        #login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--dark); z-index: 1000; display: flex; align-items: center; justify-content: center;
        }
        .login-box { background: white; padding: 30px; border-radius: 12px; text-align: center; width: 90%; max-width: 350px; }

        /* Nav */
        nav { background: var(--dark); color: white; padding: 1rem; display: flex; justify-content: space-around; }
        .nav-btn { cursor: pointer; color: white; text-decoration: none; font-weight: bold; background: none; border: none; }
        
        /* Content */
        .container { max-width: 800px; margin: 20px auto; padding: 20px; }
        .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .hidden { display: none; }
        input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button.main-btn { width: 100%; background: var(--primary); color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        
        footer { text-align: center; padding: 20px; font-size: 0.8rem; color: #666; }
        footer a { color: var(--primary); text-decoration: none; margin: 0 10px; }
    </style>
</head>
<body>

    <div id="login-overlay">
        <div class="login-box">
            <h2>Financeiro 2028</h2>
            <input type="text" id="user-in" placeholder="Quem est√° acessando?">
            <button class="main-btn" onclick="login()">Entrar</button>
        </div>
    </div>

    <nav>
        <button class="nav-btn" onclick="tab('home')">Home</button>
        <button class="nav-btn" onclick="tab('about')">Sobre</button>
        <button class="nav-btn" onclick="logout()">Sair</button>
    </nav>

    <div class="container">
        <h2 id="greet">Bom dia!</h2>

        <div id="tab-home" class="tab">
            <div class="card">
                <h3>Saldo Acumulado</h3>
                <h1 id="bal">R$ 0,00</h1>
                <p style="font-size: 0.8rem;">PIX: silva777onlycontact@gmail.com</p>
            </div>

            <div class="card">
                <h3>Adicionar Gasto/Aporte</h3>
                <input type="number" id="val" placeholder="Valor R$">
                <input type="text" id="desc" placeholder="Descri√ß√£o">
                <button class="main-btn" onclick="send()">Lan√ßar no Sistema</button>
            </div>
        </div>

        <div id="tab-about" class="tab hidden">
            <div class="card">
                <h3>Sobre o Projeto</h3>
                <p>Meta: M√°ximo de dinheiro at√© 2028.</p>
                <p>Usu√°rios: Silva & Gabriel</p>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Silva & Gabriel</p>
        <a href="https://portfoliosilva.github.io/portfoliosilva/">Portfolio</a>
        <a href="https://linktr.ee/silva777only">Linktree</a>
    </footer>

    <script>
        const hook = "https://discord.com/api/webhooks/1454574312878243932/t2mqTqD0e-z_ifhATM_XgKkkimvNooM8QR9ZqvdGSTiW271g3e-TslVKITz2mFw9zkAC";
        let user = localStorage.getItem('user');

        if(user) {
            document.getElementById('login-overlay').style.display = 'none';
            setGreet();
        }

        function login() {
            let n = document.getElementById('user-in').value;
            if(n) {
                localStorage.setItem('user', n);
                location.reload();
            }
        }

        function logout() {
            localStorage.removeItem('user');
            location.reload();
        }

        function setGreet() {
            const h = new Date().getUTCHours() - 3;
            let g = h < 12 ? "Bom dia" : h < 18 ? "Boa tarde" : "Boa noite";
            document.getElementById('greet').innerText = `${g}, ${user}!`;
        }

        function tab(t) {
            document.querySelectorAll('.tab').forEach(el => el.classList.add('hidden'));
            document.getElementById('tab-'+t).classList.remove('hidden');
        }

        async function send() {
            const v = document.getElementById('val').value;
            const d = document.getElementById('desc').value;
            if(!v) return alert("Bota o valor!");

            await fetch(hook, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({content: `üí∞ **Novo Registro**\nüë§: ${user}\nüíµ: R$ ${v}\nüìù: ${d}`})
            });
            alert("Enviado para o Discord!");
            document.getElementById('val').value = '';
            document.getElementById('desc').value = '';
        }
    </script>
</body>
</html>
